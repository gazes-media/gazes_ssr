{"version":3,"file":"provider-8b13388e.js","sources":["../../spa/node_modules/.pnpm/vidstack@0.6.14/node_modules/vidstack/dist/prod/providers/hls/hls.js","../../spa/node_modules/.pnpm/vidstack@0.6.14/node_modules/vidstack/dist/prod/providers/html/html–media-events.js","../../spa/node_modules/.pnpm/vidstack@0.6.14/node_modules/vidstack/dist/prod/providers/html/native-audio-tracks.js","../../spa/node_modules/.pnpm/vidstack@0.6.14/node_modules/vidstack/dist/prod/providers/html/provider.js"],"sourcesContent":["import { peek, effect } from 'maverick.js';\nimport { isUndefined, isNumber, DOMEvent, listenEvent, camelToKebabCase } from 'maverick.js/std';\nimport { F as ENABLE_AUTO_QUALITY, G as TextTrack, H as TEXT_TRACK_READY_STATE, J as TEXT_TRACK_ON_MODE_CHANGE, L as LIST_SELECT, K as SET_AUTO_QUALITY, N as LIST_ADD, P as IS_CHROME } from '../../media-core.js';\n\nclass RAFLoop {\n  constructor(_callback) {\n    this._e = _callback;\n  }\n  xi;\n  J() {\n    if (!isUndefined(this.xi))\n      return;\n    this.yi();\n  }\n  K() {\n    if (isNumber(this.xi))\n      window.cancelAnimationFrame(this.xi);\n    this.xi = void 0;\n  }\n  yi() {\n    this.xi = window.requestAnimationFrame(() => {\n      if (isUndefined(this.xi))\n        return;\n      this._e();\n      this.yi();\n    });\n  }\n}\n\nconst toDOMEventType = (type) => camelToKebabCase(type);\nclass HLSController {\n  constructor(_video) {\n    this.aa = _video;\n  }\n  ph;\n  za = null;\n  gi = null;\n  nh = {};\n  oh = /* @__PURE__ */ new Set();\n  get instance() {\n    return this.za;\n  }\n  setup(ctor, context) {\n    this.ph = context;\n    const isLive = peek(context.$store.streamType).includes(\"live\"), isLiveLowLatency = peek(context.$store.streamType).includes(\"ll-\");\n    this.za = new ctor({\n      lowLatencyMode: isLiveLowLatency,\n      backBufferLength: isLiveLowLatency ? 4 : isLive ? 8 : void 0,\n      renderTextTracksNatively: false,\n      ...this.nh\n    });\n    const dispatcher = this.hi.bind(this);\n    for (const event of Object.values(ctor.Events))\n      this.za.on(event, dispatcher);\n    this.za.on(ctor.Events.ERROR, this.Wb.bind(this));\n    for (const callback of this.oh)\n      callback(this.za);\n    context.player.dispatchEvent(new DOMEvent(\"hls-instance\", { detail: this.za }));\n    this.za.attachMedia(this.aa);\n    this.za.on(ctor.Events.AUDIO_TRACK_SWITCHED, this.ii.bind(this));\n    this.za.on(ctor.Events.LEVEL_SWITCHED, this.ji.bind(this));\n    this.za.on(ctor.Events.LEVEL_LOADED, this.ki.bind(this));\n    this.za.on(ctor.Events.NON_NATIVE_TEXT_TRACKS_FOUND, this.li.bind(this));\n    this.za.on(ctor.Events.CUES_PARSED, this.mi.bind(this));\n    context.qualities[ENABLE_AUTO_QUALITY] = this.ni.bind(this);\n    listenEvent(context.qualities, \"change\", this.Ff.bind(this));\n    listenEvent(context.audioTracks, \"change\", this.oi.bind(this));\n    this.gi = effect(this.pi.bind(this));\n  }\n  pi() {\n    if (!this.ph.$store.live())\n      return;\n    const raf = new RAFLoop(this.qi.bind(this));\n    raf.J();\n    return raf.K.bind(raf);\n  }\n  qi() {\n    this.ph.$store.liveSyncPosition.set(this.za?.liveSyncPosition ?? Infinity);\n  }\n  hi(eventType, detail) {\n    this.ph.player.dispatchEvent(new DOMEvent(toDOMEventType(eventType), { detail }));\n  }\n  li(eventType, data) {\n    const event = new DOMEvent(eventType, { detail: data });\n    let currentTrack = -1;\n    for (let i = 0; i < data.tracks.length; i++) {\n      const nonNativeTrack = data.tracks[i], init = nonNativeTrack.subtitleTrack ?? nonNativeTrack.closedCaptions, track = new TextTrack({\n        id: `hls-${nonNativeTrack.kind}${i}`,\n        src: init?.url,\n        label: nonNativeTrack.label,\n        language: init?.lang,\n        kind: nonNativeTrack.kind\n      });\n      track[TEXT_TRACK_READY_STATE] = 2;\n      track[TEXT_TRACK_ON_MODE_CHANGE] = () => {\n        if (track.mode === \"showing\") {\n          this.za.subtitleTrack = i;\n          currentTrack = i;\n        } else if (currentTrack === i) {\n          this.za.subtitleTrack = -1;\n          currentTrack = -1;\n        }\n      };\n      if (nonNativeTrack.default)\n        track.setMode(\"showing\", event);\n      this.ph.textTracks.add(track, event);\n    }\n  }\n  mi(eventType, data) {\n    const track = this.ph.textTracks.getById(`hls-${data.track}`);\n    if (!track)\n      return;\n    const event = new DOMEvent(eventType, { detail: data });\n    for (const cue of data.cues) {\n      cue.positionAlign = \"auto\";\n      track.addCue(cue, event);\n    }\n  }\n  ii(eventType, data) {\n    const track = this.ph.audioTracks[data.id];\n    if (track) {\n      this.ph.audioTracks[LIST_SELECT](\n        track,\n        true,\n        new DOMEvent(eventType, { detail: data })\n      );\n    }\n  }\n  ji(eventType, data) {\n    const quality = this.ph.qualities[data.level];\n    if (quality) {\n      this.ph.qualities[LIST_SELECT](\n        quality,\n        true,\n        new DOMEvent(eventType, { detail: data })\n      );\n    }\n  }\n  ki(eventType, data) {\n    if (this.ph.$store.canPlay())\n      return;\n    const { type, live, totalduration: duration } = data.details;\n    const event = new DOMEvent(eventType, { detail: data });\n    this.ph.delegate.R(\"stream-type-change\", {\n      detail: live ? type === \"EVENT\" && Number.isFinite(duration) ? \"live:dvr\" : \"live\" : \"on-demand\",\n      trigger: event\n    });\n    this.ph.delegate.R(\"duration-change\", { detail: duration, trigger: event });\n    const media = this.za.media;\n    if (this.za.currentLevel === -1) {\n      this.ph.qualities[SET_AUTO_QUALITY](true, event);\n    }\n    for (const track of this.za.audioTracks) {\n      this.ph.audioTracks[LIST_ADD](\n        {\n          id: track.id + \"\",\n          label: track.name,\n          language: track.lang || \"\",\n          kind: \"main\"\n        },\n        event\n      );\n    }\n    for (const level of this.za.levels) {\n      this.ph.qualities[LIST_ADD](\n        {\n          width: level.width,\n          height: level.height,\n          codec: level.codecSet,\n          bitrate: level.bitrate\n        },\n        event\n      );\n    }\n    media.dispatchEvent(new DOMEvent(\"canplay\", { trigger: event }));\n  }\n  Wb(eventType, data) {\n    if (data.fatal) {\n      switch (data.type) {\n        case \"networkError\":\n          this.za?.startLoad();\n          break;\n        case \"mediaError\":\n          this.za?.recoverMediaError();\n          break;\n        default:\n          this.za?.destroy();\n          this.za = null;\n          break;\n      }\n    }\n  }\n  ni() {\n    if (this.za)\n      this.za.currentLevel = -1;\n  }\n  Ff() {\n    const { qualities } = this.ph;\n    if (!this.za || qualities.auto)\n      return;\n    this.za[qualities.switch + \"Level\"] = qualities.selectedIndex;\n    if (IS_CHROME)\n      this.aa.currentTime = this.aa.currentTime;\n  }\n  oi() {\n    const { audioTracks } = this.ph;\n    if (this.za && this.za.audioTrack !== audioTracks.selectedIndex) {\n      this.za.audioTrack = audioTracks.selectedIndex;\n    }\n  }\n  Jg() {\n    if (this.ph)\n      this.ph.qualities[ENABLE_AUTO_QUALITY] = void 0;\n    this.za?.destroy();\n    this.za = null;\n    this.gi?.();\n    this.gi = null;\n  }\n}\n\nexport { HLSController as H, RAFLoop as R };\n","import { effect, onDispose } from 'maverick.js';\nimport { useDisposalBin, listenEvent, DOMEvent, isNil } from 'maverick.js/std';\nimport { R as RAFLoop } from '../hls/hls.js';\nimport { i as isHLSSrc } from '../audio/loader.js';\nimport { y as getNumberOfDecimalPlaces } from '../../media-ui.js';\nimport { I as IS_SAFARI } from '../../media-core.js';\n\nclass HTMLMediaEvents {\n  constructor(_provider, _context) {\n    this.j = _provider;\n    this.ph = _context;\n    this.Fh();\n    effect(this.Gh.bind(this));\n    onDispose(this.Hh.bind(this));\n  }\n  ih = useDisposalBin();\n  yh = false;\n  Bh = false;\n  Ch = false;\n  zh = new RAFLoop(this.Ih.bind(this));\n  get k() {\n    return this.j.media;\n  }\n  get jg() {\n    return this.ph.delegate;\n  }\n  Hh() {\n    this.zh.K();\n    this.ih.empty();\n  }\n  /**\n   * The `timeupdate` event fires surprisingly infrequently during playback, meaning your progress\n   * bar (or whatever else is synced to the currentTime) moves in a choppy fashion. This helps\n   * resolve that by retrieving time updates in a request animation frame loop.\n   */\n  Ih() {\n    const newTime = this.j.currentTime;\n    if (this.ph.$store.currentTime() !== newTime)\n      this.xh(newTime);\n  }\n  Fh() {\n    this.wh(\"loadstart\", this.ge);\n    this.wh(\"abort\", this.Dh);\n    this.wh(\"emptied\", this.Jh);\n    this.wh(\"error\", this.Wb);\n  }\n  Kh() {\n    if (this.Bh)\n      return;\n    this.ih.add(\n      this.wh(\"loadeddata\", this.Lh),\n      this.wh(\"loadedmetadata\", this.Mh),\n      this.wh(\"canplay\", this.Rb),\n      this.wh(\"canplaythrough\", this.Nh),\n      this.wh(\"durationchange\", this.Oh),\n      this.wh(\"play\", this.Ph),\n      this.wh(\"progress\", this.Qh),\n      this.wh(\"stalled\", this.Rh),\n      this.wh(\"suspend\", this.Sh)\n    );\n    this.Bh = true;\n  }\n  Th() {\n    if (this.Ch)\n      return;\n    this.ih.add(\n      this.wh(\"pause\", this.Uh),\n      this.wh(\"playing\", this.Vh),\n      this.wh(\"ratechange\", this.Wh),\n      this.wh(\"seeked\", this.Xh),\n      this.wh(\"seeking\", this.Yh),\n      this.wh(\"ended\", this.Zh),\n      this.wh(\"volumechange\", this.ac),\n      this.wh(\"waiting\", this._h)\n    );\n    this.Ch = true;\n  }\n  $h = void 0;\n  bi = void 0;\n  wh(eventType, handler) {\n    return listenEvent(\n      this.k,\n      eventType,\n      handler.bind(this)\n    );\n  }\n  ci(event2) {\n    return;\n  }\n  xh(time, trigger) {\n    this.jg.R(\"time-update\", {\n      // Avoid errors where `currentTime` can have higher precision.\n      detail: {\n        currentTime: Math.min(time, this.ph.$store.seekableEnd()),\n        played: this.k.played\n      },\n      trigger\n    });\n  }\n  ge(event2) {\n    if (this.k.networkState === 3) {\n      this.Dh(event2);\n      return;\n    }\n    this.Kh();\n    this.jg.R(\"load-start\", { trigger: event2 });\n  }\n  Dh(event2) {\n    this.jg.R(\"abort\", { trigger: event2 });\n  }\n  Jh() {\n    this.jg.R(\"emptied\", { trigger: event });\n  }\n  Lh(event2) {\n    this.jg.R(\"loaded-data\", { trigger: event2 });\n  }\n  Mh(event2) {\n    this.Eh();\n    this.Th();\n    this.jg.R(\"volume-change\", {\n      detail: {\n        volume: this.k.volume,\n        muted: this.k.muted\n      }\n    });\n    this.jg.R(\"loaded-metadata\", { trigger: event2 });\n    if (IS_SAFARI && isHLSSrc(this.ph.$store.source())) {\n      this.jg.af(this.Ah(), event2);\n    }\n  }\n  Ah() {\n    return {\n      duration: this.k.duration,\n      buffered: this.k.buffered,\n      seekable: this.k.seekable\n    };\n  }\n  Eh() {\n    const isLive = !Number.isFinite(this.k.duration);\n    this.jg.R(\"stream-type-change\", {\n      detail: isLive ? \"live\" : \"on-demand\"\n    });\n  }\n  Ph(event2) {\n    if (!this.ph.$store.canPlay)\n      return;\n    this.jg.R(\"play\", { trigger: event2 });\n  }\n  Uh(event2) {\n    if (this.k.readyState === 1 && !this.yh)\n      return;\n    this.yh = false;\n    this.zh.K();\n    this.jg.R(\"pause\", { trigger: event2 });\n  }\n  Rb(event2) {\n    this.jg.af(this.Ah(), event2);\n  }\n  Nh(event2) {\n    if (this.ph.$store.started())\n      return;\n    this.jg.R(\"can-play-through\", {\n      trigger: event2,\n      detail: this.Ah()\n    });\n  }\n  Vh(event2) {\n    this.yh = false;\n    this.jg.R(\"playing\", { trigger: event2 });\n    this.zh.J();\n  }\n  Rh(event2) {\n    this.jg.R(\"stalled\", { trigger: event2 });\n    if (this.k.readyState < 3) {\n      this.yh = true;\n      this.jg.R(\"waiting\", { trigger: event2 });\n    }\n  }\n  _h(event2) {\n    if (this.k.readyState < 3) {\n      this.yh = true;\n      this.jg.R(\"waiting\", { trigger: event2 });\n    }\n  }\n  Zh(event2) {\n    this.zh.K();\n    this.xh(this.k.duration, event2);\n    this.jg.R(\"end\", { trigger: event2 });\n    if (this.ph.$store.loop()) {\n      this.ai();\n    } else {\n      this.jg.R(\"ended\", { trigger: event2 });\n    }\n  }\n  Gh() {\n    if (this.ph.$store.paused()) {\n      listenEvent(this.k, \"timeupdate\", this.Vb.bind(this));\n    }\n  }\n  Vb(event2) {\n    this.xh(this.k.currentTime, event2);\n  }\n  Oh(event2) {\n    this.Eh();\n    if (this.ph.$store.ended()) {\n      this.xh(this.k.duration, event2);\n    }\n    this.jg.R(\"duration-change\", {\n      detail: this.k.duration,\n      trigger: event2\n    });\n  }\n  ac(event2) {\n    this.jg.R(\"volume-change\", {\n      detail: {\n        volume: this.k.volume,\n        muted: this.k.muted\n      },\n      trigger: event2\n    });\n  }\n  Xh(event2) {\n    this.xh(this.k.currentTime, event2);\n    this.jg.R(\"seeked\", {\n      detail: this.k.currentTime,\n      trigger: event2\n    });\n    if (Math.trunc(this.k.currentTime) === Math.trunc(this.k.duration) && getNumberOfDecimalPlaces(this.k.duration) > getNumberOfDecimalPlaces(this.k.currentTime)) {\n      this.xh(this.k.duration, event2);\n      if (!this.k.ended) {\n        this.ph.player.dispatchEvent(\n          new DOMEvent(\"media-play-request\", {\n            trigger: event2\n          })\n        );\n      }\n    }\n  }\n  Yh(event2) {\n    this.jg.R(\"seeking\", {\n      detail: this.k.currentTime,\n      trigger: event2\n    });\n  }\n  Qh(event2) {\n    this.jg.R(\"progress\", {\n      detail: {\n        buffered: this.k.buffered,\n        seekable: this.k.seekable\n      },\n      trigger: event2\n    });\n  }\n  ai() {\n    const hasCustomControls = isNil(this.k.controls);\n    if (hasCustomControls)\n      this.k.controls = false;\n    this.ph.player.dispatchEvent(new DOMEvent(\"media-loop-request\"));\n  }\n  Sh(event2) {\n    this.jg.R(\"suspend\", { trigger: event2 });\n  }\n  Wh(event2) {\n    this.jg.R(\"rate-change\", {\n      detail: this.k.playbackRate,\n      trigger: event2\n    });\n  }\n  Wb(event2) {\n    const error = this.k.error;\n    if (!error)\n      return;\n    this.jg.R(\"error\", {\n      detail: {\n        message: error.message,\n        code: error.code,\n        mediaError: error\n      },\n      trigger: event2\n    });\n  }\n}\n\nexport { HTMLMediaEvents as H };\n","import { listenEvent } from 'maverick.js/std';\nimport { N as LIST_ADD, W as LIST_REMOVE, L as LIST_SELECT } from '../../media-core.js';\n\nclass NativeAudioTracks {\n  constructor(_provider, _context) {\n    this.j = _provider;\n    this.ph = _context;\n    this.qh.onaddtrack = this.sh.bind(this);\n    this.qh.onremovetrack = this.th.bind(this);\n    this.qh.onchange = this.uh.bind(this);\n    listenEvent(this.ph.audioTracks, \"change\", this.vh.bind(this));\n  }\n  get qh() {\n    return this.j.media.audioTracks;\n  }\n  sh(event) {\n    const _track = event.track;\n    if (_track.label === \"\")\n      return;\n    const audioTrack = {\n      id: _track.id + \"\",\n      label: _track.label,\n      language: _track.language,\n      kind: _track.kind,\n      selected: false\n    };\n    this.ph.audioTracks[LIST_ADD](audioTrack, event);\n    if (_track.enabled)\n      audioTrack.selected = true;\n  }\n  th(event) {\n    const track = this.ph.audioTracks.getById(event.track.id);\n    if (track)\n      this.ph.audioTracks[LIST_REMOVE](track, event);\n  }\n  uh(event) {\n    let enabledTrack = this.rh();\n    if (!enabledTrack)\n      return;\n    const track = this.ph.audioTracks.getById(enabledTrack.id);\n    if (track)\n      this.ph.audioTracks[LIST_SELECT](track, true, event);\n  }\n  rh() {\n    return Array.from(this.qh).find((track) => track.enabled);\n  }\n  vh(event) {\n    const { current } = event.detail;\n    if (!current)\n      return;\n    const track = this.qh.getTrackById(current.id);\n    if (track) {\n      const prev = this.rh();\n      if (prev)\n        prev.enabled = false;\n      track.enabled = true;\n    }\n  }\n}\n\nexport { NativeAudioTracks as N };\n","import { setAttribute, isString } from 'maverick.js/std';\nimport { b as isMediaStream } from '../audio/loader.js';\nimport { H as HTMLMediaEvents } from './html–media-events.js';\nimport { N as NativeAudioTracks } from './native-audio-tracks.js';\n\nclass HTMLMediaProvider {\n  constructor(_media) {\n    this.k = _media;\n  }\n  setup(context) {\n    new HTMLMediaEvents(this, context);\n    if (\"audioTracks\" in this.media)\n      new NativeAudioTracks(this, context);\n  }\n  get type() {\n    return \"\";\n  }\n  get media() {\n    return this.k;\n  }\n  get paused() {\n    return this.k.paused;\n  }\n  get muted() {\n    return this.k.muted;\n  }\n  set muted(muted) {\n    this.k.muted = muted;\n  }\n  get volume() {\n    return this.k.volume;\n  }\n  set volume(volume) {\n    this.k.volume = volume;\n  }\n  get currentTime() {\n    return this.k.currentTime;\n  }\n  set currentTime(time) {\n    this.k.currentTime = time;\n  }\n  get playsinline() {\n    return this.k.hasAttribute(\"playsinline\");\n  }\n  set playsinline(playsinline) {\n    setAttribute(this.k, \"playsinline\", playsinline);\n  }\n  get playbackRate() {\n    return this.k.playbackRate;\n  }\n  set playbackRate(rate) {\n    this.k.playbackRate = rate;\n  }\n  async play() {\n    return this.k.play();\n  }\n  async pause() {\n    return this.k.pause();\n  }\n  async loadSource({ src }, preload) {\n    this.k.preload = preload;\n    if (isMediaStream(src)) {\n      this.k.srcObject = src;\n    } else {\n      this.k.srcObject = null;\n      this.k.src = isString(src) ? src : window.URL.createObjectURL(src);\n    }\n    this.k.load();\n  }\n}\n\nexport { HTMLMediaProvider as H };\n"],"names":["RAFLoop","_callback","__publicField","isUndefined","isNumber","toDOMEventType","type","camelToKebabCase","HLSController","_video","ctor","context","isLive","peek","isLiveLowLatency","dispatcher","event","callback","DOMEvent","ENABLE_AUTO_QUALITY","listenEvent","effect","raf","_a","eventType","detail","data","currentTrack","i","nonNativeTrack","init","track","TextTrack","TEXT_TRACK_READY_STATE","TEXT_TRACK_ON_MODE_CHANGE","cue","LIST_SELECT","quality","live","duration","media","SET_AUTO_QUALITY","LIST_ADD","level","_b","_c","qualities","IS_CHROME","audioTracks","HTMLMediaEvents","_provider","_context","useDisposalBin","onDispose","newTime","handler","event2","time","trigger","IS_SAFARI","isHLSSrc","getNumberOfDecimalPlaces","isNil","error","NativeAudioTracks","_track","audioTrack","LIST_REMOVE","enabledTrack","current","prev","HTMLMediaProvider","_media","muted","volume","playsinline","setAttribute","rate","src","preload","isMediaStream","isString"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}